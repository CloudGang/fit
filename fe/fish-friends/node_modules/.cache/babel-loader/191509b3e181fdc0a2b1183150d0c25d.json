{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UNLIMITED\\\\Documents\\\\Lambda\\\\fit\\\\fe\\\\fish-friends\\\\src\\\\components\\\\LoginForm.js\";\nimport React, { useContext, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { Card, Button, Form, Input, Modal } from 'reactstrap'; //IMPORT STYLES\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './styles/LoginForm.scss'; //IMPORT COMPONENTS AND ASSETS\n\nimport CreateAccount from './CreateAccount';\nimport Logo from '../images/BAFFitLogo.png'; //IMPORT CONTEXT\n\nimport UserContext from '../contexts/UserContext';\n\nconst LoginForm = props => {\n  const [modal, setModal] = useState(false);\n\n  const toggle = () => setModal(!modal);\n\n  const {\n    setUser\n  } = useContext(UserContext);\n  const [state, setState] = useState({\n    credentials: {\n      username: '',\n      password: ''\n    }\n  });\n\n  const handleChange = e => {\n    setState({\n      credentials: { ...state.credentials,\n        [e.target.name]: e.target.value\n      }\n    });\n  }; // console.log(state.credentials);\n\n\n  const login = e => {\n    e.preventDefault();\n    axios.post(`https://fish-friends.herokuapp.com/authRoute/login`, state.credentials).then(res => {\n      console.log(\"axios post res.data from LoginForm.js\", res);\n      localStorage.setItem('token', res.data.token);\n      localStorage.setItem('username', state.credentials.username);\n      localStorage.setItem('userId', res.data.userId);\n      setUser({\n        username: state.credentials.username,\n        userId: res.data.userId\n      });\n      props.history.push('/Dashboard');\n    }).catch(err => console.log(err.message));\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"login-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    alt: \"Fish Friends Logo\",\n    className: \"login-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"form-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Login to you account\"), /*#__PURE__*/React.createElement(Form, {\n    className: \"login-form\",\n    onSubmit: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"username\",\n    className: \"login-input\",\n    placeholder: \"User Name\",\n    value: state.credentials.username,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    name: \"password\",\n    className: \"login-input\",\n    placeholder: \"Password\",\n    value: state.credentials.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"login-button\",\n    type: \"submit\",\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"Sign In\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"I Don't Have An Account\")), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Forgot Password\")), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modal,\n    toggle: toggle,\n    size: \"lg\",\n    className: \"login-createAccount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CreateAccount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/UNLIMITED/Documents/Lambda/fit/fe/fish-friends/src/components/LoginForm.js"],"names":["React","useContext","useState","Link","axios","Card","Button","Form","Input","Modal","CreateAccount","Logo","UserContext","LoginForm","props","modal","setModal","toggle","setUser","state","setState","credentials","username","password","handleChange","e","target","name","value","login","preventDefault","post","then","res","console","log","localStorage","setItem","data","token","userId","history","push","catch","err","message"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios'\r\nimport { Card, Button, Form, Input, Modal } from 'reactstrap';\r\n\r\n//IMPORT STYLES\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './styles/LoginForm.scss';\r\n\r\n//IMPORT COMPONENTS AND ASSETS\r\nimport CreateAccount from './CreateAccount';\r\nimport Logo from '../images/BAFFitLogo.png';\r\n\r\n//IMPORT CONTEXT\r\nimport UserContext from '../contexts/UserContext';\r\n\r\nconst LoginForm = (props) =>{\r\n\r\n  const [modal, setModal] = useState(false);\r\n  const toggle = () => setModal(!modal);\r\n\r\n  const {setUser} = useContext(UserContext);\r\n  const [state, setState] = useState({\r\n    credentials: {\r\n      username: '',\r\n      password: '',\r\n    }\r\n  })\r\n\r\n  const handleChange = (e) => {\r\n    setState({\r\n      credentials: {\r\n        ...state.credentials,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    })\r\n  }\r\n\r\n  // console.log(state.credentials);\r\n\r\n  const login = (e) => {\r\n    e.preventDefault()\r\n\r\n    axios\r\n      .post(`https://fish-friends.herokuapp.com/authRoute/login`, state.credentials)\r\n      .then(res=> {\r\n        console.log(\"axios post res.data from LoginForm.js\",res);\r\n        localStorage.setItem('token', res.data.token)\r\n        localStorage.setItem('username', state.credentials.username)\r\n        localStorage.setItem('userId', res.data.userId)\r\n        setUser({\r\n          username: state.credentials.username,\r\n          userId: res.data.userId\r\n        })\r\n        props.history.push('/Dashboard')\r\n      })\r\n      .catch(err=>console.log(err.message))\r\n  }\r\n\r\n  return(\r\n    <Card className=\"login-card\">\r\n      <img src={Logo} alt=\"Fish Friends Logo\" className=\"login-logo\" />\r\n      <h3 className=\"form-title\">Login to you account</h3>\r\n      <Form className=\"login-form\" onSubmit={login}>\r\n        <Input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          className=\"login-input\"\r\n          placeholder=\"User Name\"\r\n          value={state.credentials.username}\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <Input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"login-input\"\r\n          placeholder=\"Password\"\r\n          value={state.credentials.password}\r\n          onChange={handleChange}\r\n\r\n        />\r\n        <Button className=\"login-button\" type=\"submit\" block>Sign In</Button>\r\n      </Form>\r\n      \r\n      <div className=\"login-nav\">\r\n        <Link onClick={toggle}>\r\n          <h4>I Don't Have An Account</h4>\r\n        </Link>\r\n\r\n        <h4>Forgot Password</h4>\r\n      </div>\r\n\r\n      <Modal isOpen={modal} toggle={toggle} size=\"lg\" className=\"login-createAccount\">\r\n        <CreateAccount />\r\n      </Modal>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}